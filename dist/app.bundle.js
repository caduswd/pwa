(function(I){var C={};function Q(g){if(C[g]){return C[g].exports}var F=C[g]={i:g,l:false,exports:{}};I[g].call(F.exports,F,F.exports,Q);F.l=true;return F.exports}Q.m=I;Q.c=C;Q.d=function(I,C,g){if(!Q.o(I,C)){Object.defineProperty(I,C,{configurable:false,enumerable:true,get:g})}};Q.r=function(I){Object.defineProperty(I,"__esModule",{value:true})};Q.n=function(I){var C=I&&I.__esModule?function C(){return I["default"]}:function C(){return I};Q.d(C,"a",C);return C};Q.o=function(I,C){return Object.prototype.hasOwnProperty.call(I,C)};Q.p="";return Q(Q.s=8)})([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar SERVER_URL = 'http://localhost:3005/';\n\nvar request = void 0,\n    db = void 0;\n\nfunction getObjectStore() {\n    return db.transaction(['ToDoItems'], 'readwrite').objectStore('ToDoItems');\n}\n\nfunction getAll() {\n    return fetch(SERVER_URL).then(function (response) {\n        return response.json();\n    });\n}\n\nfunction postAll(obj) {\n    return fetch(SERVER_URL, {\n        'method': 'POST',\n        'Content-Type': 'application/json',\n        'body': JSON.stringify(obj)\n    }).then(function (response) {\n        return response.json();\n    }).then(function (items) {\n        navigator.serviceWorker.controller.postMessage('updateScreens');\n        return items;\n    });\n}\n\nvar DB = exports.DB = {\n    getAll: getAll, postAll: postAll,\n    start: function start() {\n        var _this = this;\n\n        return new Promise(function (resolve) {\n            request = indexedDB.open('toDo', 1);\n            request.onsuccess = function (event) {\n                db = request.result;\n                resolve(_this);\n            };\n\n            request.onupgradeneeded = function (event) {\n                db = event.target.result;\n                db.createObjectStore('ToDoItems', { keyPath: 'id' });\n            };\n        });\n    },\n\n    get request() {\n        return request;\n    },\n    get db() {\n        return db;\n    },\n    selectedItem: {},\n    find: function find(id) {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().get(+id);\n            request.onsuccess = function (event) {\n                _this2.selectedItem = request.result;\n                resolve(request.result);\n            };\n        });\n    },\n    findAll: function findAll() {\n        var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'server';\n\n        return new Promise(function (resolve) {\n\n            var request = getObjectStore().getAll();\n            request.onsuccess = function (event) {\n                resolve(request.result);\n            };\n        });\n    },\n    insert: function insert(item) {\n        var _this3 = this;\n\n        return new Promise(function (resolve) {\n            item.id = new Date().getTime();\n            item.isChecked = false;\n\n            var request = getObjectStore().add(item);\n            request.onsuccess = function (event) {\n                resolve(_this3.findAll());\n            };\n        });\n    },\n    update: function update(item) {\n        var _this4 = this;\n\n        return new Promise(function (resolve) {\n            var updatedItem = Object.assign(_this4.selectedItem, item);\n            var request = getObjectStore().put(updatedItem);\n            request.onsuccess = function (event) {\n                resolve(_this4.findAll());\n            };\n        });\n    },\n    remove: function remove(id) {\n        var _this5 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().delete(id);\n            request.onsuccess = function (event) {\n                resolve(_this5.findAll());\n            };\n        });\n    },\n    checkAll: function checkAll() {\n        var _this6 = this;\n\n        var isChecked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var isAllUpdated = false,\n            isUpdated = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isUpdated = false;\n                    var newData = cursor.value;\n                    newData.isChecked = isChecked;\n                    var request = cursor.update(newData);\n                    request.onsuccess = function () {\n                        isUpdated = true;\n                        if (isAllUpdated && isUpdated) {\n                            resolve(_this6.findAll());\n                        }\n                    };\n                    cursor.continue();\n                } else {\n                    isAllUpdated = true;\n                    if (isAllUpdated && isUpdated) {\n                        resolve(_this6.findAll());\n                    }\n                }\n            };\n        });\n    },\n    clearAll: function clearAll() {\n        var _this7 = this;\n\n        var isAllRemoved = false,\n            isRemoved = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isRemoved = false;\n                    if (cursor.value.isChecked) {\n                        var request = cursor.delete();\n                        request.onsuccess = function () {\n                            isRemoved = true;\n                            if (isAllRemoved && isRemoved) {\n                                resolve(_this7.findAll());\n                            }\n                        };\n                    } else {\n                        isRemoved = true;\n                    }\n                    cursor.continue();\n                } else {\n                    isAllRemoved = true;\n                    if (isAllRemoved && isRemoved) {\n                        resolve(_this7.findAll());\n                    }\n                }\n            };\n        });\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvREIuanM/ZjVlYyJdLCJuYW1lcyI6WyJTRVJWRVJfVVJMIiwicmVxdWVzdCIsImRiIiwiZ2V0T2JqZWN0U3RvcmUiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0QWxsIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwicG9zdEFsbCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwiY29udHJvbGxlciIsInBvc3RNZXNzYWdlIiwiaXRlbXMiLCJEQiIsInN0YXJ0IiwiUHJvbWlzZSIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJldmVudCIsInJlc3VsdCIsInJlc29sdmUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJ0YXJnZXQiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzZWxlY3RlZEl0ZW0iLCJmaW5kIiwiaWQiLCJnZXQiLCJmaW5kQWxsIiwibG9jYXRpb24iLCJpbnNlcnQiLCJpdGVtIiwiRGF0ZSIsImdldFRpbWUiLCJpc0NoZWNrZWQiLCJhZGQiLCJ1cGRhdGUiLCJ1cGRhdGVkSXRlbSIsIk9iamVjdCIsImFzc2lnbiIsInB1dCIsInJlbW92ZSIsImRlbGV0ZSIsImNoZWNrQWxsIiwiaXNBbGxVcGRhdGVkIiwiaXNVcGRhdGVkIiwib3BlbkN1cnNvciIsImN1cnNvciIsIm5ld0RhdGEiLCJ2YWx1ZSIsImNvbnRpbnVlIiwiY2xlYXJBbGwiLCJpc0FsbFJlbW92ZWQiLCJpc1JlbW92ZWQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSx3QkFBbkI7O0FBRUEsSUFBSUMsZ0JBQUo7QUFBQSxJQUNJQyxXQURKOztBQUdBLFNBQVNDLGNBQVQsR0FBeUI7QUFDckIsV0FBT0QsR0FBR0UsV0FBSCxDQUFlLENBQUMsV0FBRCxDQUFmLEVBQThCLFdBQTlCLEVBQTJDQyxXQUEzQyxDQUF1RCxXQUF2RCxDQUFQO0FB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LE9BQUwsRUFBUjtBQUNIO0FBQ0o7QUFDSixhQXRCRDtBQXVCSCxTQXhCTSxDQUFQO0FBeUJIO0FBdEhhLENBQVgiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNFUlZFUl9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDA1Lyc7XHJcblxyXG5sZXQgcmVxdWVzdCxcclxuICAgIGRiO1xyXG5cclxuZnVuY3Rpb24gZ2V0T2JqZWN0U3RvcmUoKXtcclxuICAgIHJldHVybiBkYi50cmFuc2FjdGlvbihbJ1RvRG9JdGVtcyddLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoJ1RvRG9JdGVtcycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGwoKXtcclxuICAgIHJldHVybiBmZXRjaChTRVJWRVJfVVJMKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvc3RBbGwob2JqKXtcclxuICAgIHJldHVybiBmZXRjaChTRVJWRVJfVVJMLCB7XHJcbiAgICAgICAgJ21ldGhvZCc6ICdQT1NUJyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICdib2R5JzogSlNPTi5zdHJpbmdpZnkob2JqKVxyXG4gICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKCd1cGRhdGVTY3JlZW5zJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREIgPSB7XHJcbiAgICBnZXRBbGwsIHBvc3RBbGwsXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKCd0b0RvJywgMSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYiA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdUb0RvSXRlbXMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGdldCByZXF1ZXN0KCl7IHJldHVybiByZXF1ZXN0OyB9LFxyXG4gICAgZ2V0IGRiKCl7IHJldHVybiBkYjsgfSxcclxuICAgIHNlbGVjdGVkSXRlbToge30sXHJcbiAgICBmaW5kKGlkKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoKS5nZXQoK2lkKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZmluZEFsbChsb2NhdGlvbiA9ICdzZXJ2ZXInKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0QWxsKCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGluc2VydChpdGVtKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uaWQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICBpdGVtLmlzQ2hlY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZSgpLmFkZChpdGVtKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5maW5kQWxsKCkpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICB1cGRhdGUoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0ZWRJdGVtLCBpdGVtKTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZSgpLnB1dCh1cGRhdGVkSXRlbSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7IHJlc29sdmUodGhpcy5maW5kQWxsKCkpIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHJlbW92ZShpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHsgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSkgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgY2hlY2tBbGwoaXNDaGVja2VkID0gZmFsc2Upe1xyXG4gICAgICAgIHZhciBpc0FsbFVwZGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgaXNVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBnZXRPYmplY3RTdG9yZSgpLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYoY3Vyc29yKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IGN1cnNvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLmlzQ2hlY2tlZCA9IGlzQ2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci51cGRhdGUobmV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGNsZWFyQWxsKCl7XHJcbiAgICAgICAgdmFyIGlzQWxsUmVtb3ZlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1JlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGdldE9iamVjdFN0b3JlKCkub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZihjdXJzb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnNvci52YWx1ZS5pc0NoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci5kZWxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxSZW1vdmVkICYmIGlzUmVtb3ZlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsUmVtb3ZlZCAmJiBpc1JlbW92ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\t\t\t\tvalue: true\n});\nvar Template = exports.Template = {\n\t\t\t\ttoDoList: function toDoList(itemList) {\n\t\t\t\t\t\t\t\tvar listElement = document.querySelector(\'.todo-list\');\n\t\t\t\t\t\t\t\tvar template = \'\';\n\t\t\t\t\t\t\t\titemList.forEach(function (item) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar backgroundImage = !item.image ? \'\' : \'style="background-image: url(\\\'\' + item.image + \'\\\');"\';\n\t\t\t\t\t\t\t\t\t\t\t\tvar checkbox = item.isChecked ? \'check_box\' : \'check_box_outline_blank\';\n\t\t\t\t\t\t\t\t\t\t\t\ttemplate += \'<li class="todo-list-item">\\n\\t\\t\\t                <div class="demo-card-wide mdl-card mdl-shadow--2dp" \' + backgroundImage + \' >\\n\\t\\t\\t                    <div class="card-content-container" >  \\n\\t\\t\\t                      <div class="mdl-card__title">\\n\\t\\t\\t                        <h2 class="mdl-card__title-text">\' + item.title + \'</h2>\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                      <div class="mdl-card__supporting-text">\\n\\t\\t\\t                        \' + item.description + \'\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                      <div class="mdl-card__menu">\\n\\t\\t\\t                        <button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" data-item="\' + item.id + \'" data-action="open" >\\n\\t\\t\\t                          <i class="material-icons">edit</i>\\n\\t\\t\\t                        </button>\\n\\t\\t\\t                        <button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" data-item="\' + item.id + \'" data-action="check" >\\n\\t\\t\\t                          <i class="material-icons">\' + checkbox + \'</i>\\n\\t\\t\\t                        </button>\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                    </div>\\n\\t\\t\\t                </div>\\n\\t\\t\\t            </li>\';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlistElement.innerHTML = template;\n\t\t\t\t\t\t\t\treturn template;\n\t\t\t\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvVGVtcGxhdGUuanM/ZWFkOCJdLCJuYW1lcyI6WyJUZW1wbGF0ZSIsInRvRG9MaXN0IiwiaXRlbUxpc3QiLCJsaXN0RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlIiwiZm9yRWFjaCIsImJhY2tncm91bmRJbWFnZSIsIml0ZW0iLCJpbWFnZSIsImNoZWNrYm94IiwiaXNDaGVja2VkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImlkIiwiaW5uZXJIVE1MIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFPLElBQU1BLDhCQUFXO0FBQ3BCQyxZQURvQixvQkFDWEMsUUFEVyxFQUNGO0FBQ2QsWUFBSUMsY0FBY0MsU0FBU0MsYUFBVCxDQUF1QixZQUF2QixDQUFsQjtBQUNBLFlBQUlDLFdBQVcsRUFBZjtBQUNBSixpQkFBU0ssT0FBVCxDQUFpQixnQkFBUTtBQUNyQixnQkFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQU4sR0FBYyxFQUFkLHVDQUFvREQsS0FBS0MsS0FBekQsVUFBdEI7QUFDQSxnQkFBSUMsV0FBV0YsS0FBS0csU0FBTCxHQUFpQixXQUFqQixHQUErQix5QkFBOUM7QUFDQU4scUlBQzhERSxlQUQ5RCx5TUFJa0RDLEtBQUtJLEtBSnZELHNKQU9pQkosS0FBS0ssV0FQdEIsZ09BVTJHTCxLQUFLTSxFQVZoSCxxUUFhMkdOLEtBQUtNLEVBYmhILDJGQWM2Q0osUUFkN0M7QUFvQkgsU0F2QkQ7QUF3QkFSLG9CQUFZYSxTQUFaLEdBQXdCVixRQUF4QjtBQUNBLGVBQU9BLFFBQVA7QUFDSDtBQTlCbUIsQ0FBakIiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBUZW1wbGF0ZSA9IHtcclxuICAgIHRvRG9MaXN0KGl0ZW1MaXN0KXtcclxuICAgICAgICB2YXIgbGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0Jyk7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gJyc7XHJcbiAgICAgICAgaXRlbUxpc3QuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRJbWFnZSA9ICFpdGVtLmltYWdlID8gJycgOiBgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aXRlbS5pbWFnZX0nKTtcImA7XHJcbiAgICAgICAgICAgIHZhciBjaGVja2JveCA9IGl0ZW0uaXNDaGVja2VkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSBgPGxpIGNsYXNzPVwidG9kby1saXN0LWl0ZW1cIj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZW1vLWNhcmQtd2lkZSBtZGwtY2FyZCBtZGwtc2hhZG93LS0yZHBcIiAke2JhY2tncm91bmRJbWFnZX0gPlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnQtY29udGFpbmVyXCIgPiAgXHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWRsLWNhcmRfX3RpdGxlXCI+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm1kbC1jYXJkX190aXRsZS10ZXh0XCI+JHtpdGVtLnRpdGxlfTwvaDI+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZGwtY2FyZF9fc3VwcG9ydGluZy10ZXh0XCI+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICR7aXRlbS5kZXNjcmlwdGlvbn1cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kbC1jYXJkX19tZW51XCI+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1idXR0b24tLWljb24gbWRsLWpzLWJ1dHRvbiBtZGwtanMtcmlwcGxlLWVmZmVjdFwiIGRhdGEtaXRlbT1cIiR7aXRlbS5pZH1cIiBkYXRhLWFjdGlvbj1cIm9wZW5cIiA+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmVkaXQ8L2k+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibWRsLWJ1dHRvbiBtZGwtYnV0dG9uLS1pY29uIG1kbC1qcy1idXR0b24gbWRsLWpzLXJpcHBsZS1lZmZlY3RcIiBkYXRhLWl0ZW09XCIke2l0ZW0uaWR9XCIgZGF0YS1hY3Rpb249XCJjaGVja1wiID5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtjaGVja2JveH08L2k+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblx0XHRcdCAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHRcdFx0ICAgICAgICAgICAgPC9saT5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RFbGVtZW50LmlubmVySFRNTCA9IHRlbXBsYXRlO1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},,,function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar PUBLIC_KEY = \"BBZejeSiAno7068TAxztOSUED83OOUO9N1BZIVjYeJ79sXbPvKUUA1sm0D2MzO4c4iii0ettoAkOjHgXwpvaa1w\";\n\nfunction urlBase64ToUint8Array(base64String) {\n    var padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n    var base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\n    var rawData = window.atob(base64);\n    var outputArray = new Uint8Array(rawData.length);\n    for (var i = 0; i < rawData.length; ++i) {\n        outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n}\n\nvar ToDoNotification = exports.ToDoNotification = {\n    subscribeUserToNotification: function subscribeUserToNotification() {\n        Notification.requestPermission().then(function (permission) {\n            if (permission === 'granted') {\n                var subscribeOptions = {\n                    userVisibleOnly: true,\n                    applicationServerKey: urlBase64ToUint8Array(PUBLIC_KEY)\n                };\n\n                navigator.serviceWorker.ready.then(function (registration) {\n                    return registration.pushManager.subscribe(subscribeOptions);\n                }).then(function (subscription) {\n                    return fetch('http://localhost:3006', {\n                        'method': 'POST',\n                        'Content-Type': 'application/json',\n                        'body': JSON.stringify(subscription)\n                    });\n                });\n            }\n        });\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvTm90aWZpY2F0aW9uLmpzPzFhMTYiXSwibmFtZXMiOlsiUFVCTElDX0tFWSIsInVybEJhc2U2NFRvVWludDhBcnJheSIsImJhc2U2NFN0cmluZyIsInBhZGRpbmciLCJyZXBlYXQiLCJsZW5ndGgiLCJiYXNlNjQiLCJyZXBsYWNlIiwicmF3RGF0YSIsIndpbmRvdyIsImF0b2IiLCJvdXRwdXRBcnJheSIsIlVpbnQ4QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIlRvRG9Ob3RpZmljYXRpb24iLCJzdWJzY3JpYmVVc2VyVG9Ob3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInRoZW4iLCJwZXJtaXNzaW9uIiwic3Vic2NyaWJlT3B0aW9ucyIsInVzZXJWaXNpYmxlT25seSIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlYWR5IiwicmVnaXN0cmF0aW9uIiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJzdWJzY3JpcHRpb24iLCJmZXRjaCIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSx5RkFBbkI7O0FBRUEsU0FBU0MscUJBQVQsQ0FBK0JDLFlBQS9CLEVBQTZDO0FBQ3pDLFFBQUlDLFVBQVUsSUFBSUMsTUFBSixDQUFXLENBQUMsSUFBSUYsYUFBYUcsTUFBYixHQUFzQixDQUEzQixJQUFnQyxDQUEzQyxDQUFkO0FBQ0EsUUFBSUMsU0FBUyxDQUFDSixlQUFlQyxPQUFoQixFQUF5QkksT0FBekIsQ0FBaUMsS0FBakMsRUFBd0MsR0FBeEMsRUFBNkNBLE9BQTdDLENBQXFELElBQXJELEVBQTJELEdBQTNELENBQWI7QUFDQSxRQUFJQyxVQUFVQyxPQUFPQyxJQUFQLENBQVlKLE1BQVosQ0FBZDtBQUNBLFFBQUlLLGNBQWMsSUFBSUMsVUFBSixDQUFlSixRQUFRSCxNQUF2QixDQUFsQjtBQUNBLFNBQUssSUFBSVEsSUFBSSxDQUFiLEVBQWdCQSxJQUFJTCxRQUFRSCxNQUE1QixFQUFvQyxFQUFFUSxDQUF0QyxFQUF5QztBQUNyQ0Ysb0JBQVlFLENBQVosSUFBaUJMLFFBQVFNLFVBQVIsQ0FBbUJELENBQW5CLENBQWpCO0FBQ0g7QUFDRCxXQUFPRixXQUFQO0FBQ0g7O0FBRU0sSUFBTUksOENBQW1CO0FBQzVCQywrQkFENEIseUNBQ0M7QUFDekJDLHFCQUFhQyxpQkFBYixHQUFpQ0MsSUFBakMsQ0FBc0MsVUFBU0MsVUFBVCxFQUFvQjtBQUN0RCxnQkFBR0EsZUFBZSxTQUFsQixFQUE0QjtBQUN4QixvQkFBSUMsbUJBQW1CO0FBQ25CQyxxQ0FBaUIsSUFERTtBQUVuQkMsMENBQXNCdEIsc0JBQXNCRCxVQUF0QjtBQUZILGlCQUF2Qjs7QUFLQXdCLDBCQUFVQyxhQUFWLENBQXdCQyxLQUF4QixDQUNLUCxJQURMLENBQ1UsVUFBU1EsWUFBVCxFQUFzQjtBQUN4QiwyQkFBT0EsYUFBYUMsV0FBYixDQUF5QkMsU0FBekIsQ0FBbUNSLGdCQUFuQyxDQUFQO0FBQ0gsaUJBSEwsRUFJS0YsSUFKTCxDQUlVLFVBQVNXLFlBQVQsRUFBc0I7QUFDeEIsMkJBQU9DLE1BQU0sdUJBQU4sRUFBK0I7QUFDbEMsa0NBQVUsTUFEd0I7QUFFbEMsd0NBQWdCLGtCQUZrQjtBQUdsQyxnQ0FBUUMsS0FBS0MsU0FBTCxDQUFlSCxZQUFmO0FBSDBCLHFCQUEvQixDQUFQO0FBS0gsaUJBVkw7QUFXSDtBQUNKLFNBbkJEO0FBb0JIO0FBdEIyQixDQUF6QiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUFVCTElDX0tFWSA9IFwiQkJaZWplU2lBbm83MDY4VEF4enRPU1VFRDgzT09VTzlOMUJaSVZqWWVKNzlzWGJQdktVVUExc20wRDJNek80YzRpaWkwZXR0b0FrT2pIZ1h3cHZhYTF3XCI7XHJcblxyXG5mdW5jdGlvbiB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XHJcbiAgICB2YXIgcGFkZGluZyA9IFwiPVwiLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xyXG4gICAgdmFyIGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS5yZXBsYWNlKC9cXC0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpO1xyXG4gICAgdmFyIHJhd0RhdGEgPSB3aW5kb3cuYXRvYihiYXNlNjQpO1xyXG4gICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRhLmNoYXJDb2RlQXQoaSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0QXJyYXk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBUb0RvTm90aWZpY2F0aW9uID0ge1xyXG4gICAgc3Vic2NyaWJlVXNlclRvTm90aWZpY2F0aW9uKCl7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbihwZXJtaXNzaW9uKXtcclxuICAgICAgICAgICAgaWYocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKXtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogdXJsQmFzZTY0VG9VaW50OEFycmF5KFBVQkxJQ19LRVkpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZShzdWJzY3JpYmVPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHN1YnNjcmlwdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDA2Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21ldGhvZCc6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar videoElement = void 0,\n    stream = void 0,\n    videoDevices = [],\n    selectedDeviceIndex = 0;\n\nnavigator.mediaDevices.enumerateDevices().then(function (devices) {\n    devices.forEach(function (device) {\n        if (device.kind === 'videoinput') {\n            videoDevices.push(device.deviceId);\n        }\n    });\n});\n\nvar Camera = exports.Camera = {\n    start: function start() {\n        this.stop();\n        if (videoDevices.length) {\n            videoElement = document.getElementById('camera-tag');\n            navigator.mediaDevices.getUserMedia({\n                video: {\n                    width: 230,\n                    height: 200,\n                    deviceIdId: { exact: videoDevices[selectedDeviceIndex] }\n                }\n            }).then(function (localMediaStream) {\n                stream = localMediaStream;\n                videoElement.src = window.URL.createObjectURL(stream);\n                videoElement.play();\n            });\n        }\n    },\n    stop: function stop() {\n        if (stream) {\n            videoElement = '';\n            stream.getVideoTracks()[0].stop();\n            stream = null;\n        }\n    },\n    shoot: function shoot() {\n        if (stream) {\n            var canvas = document.createElement('canvas'),\n                ctx = canvas.getContext('2d');\n\n            canvas.width = 230;\n            canvas.height = 200;\n            ctx.drawImage(videoElement, 0, 0, 230, 200);\n            var image = canvas.toDataURL('image/webp');\n            return image;\n        }return false;\n    },\n    changeSource: function changeSource() {\n        if (stream && videoDevices.length > 1) {\n            selectedDeviceIndex++;\n            if (selectedDeviceIndex === videoDevices.length) {\n                selectedDeviceIndex = 0;\n            }\n            this.start();\n        }\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9jYW1lcmEuanM/YzgwNCJdLCJuYW1lcyI6WyJ2aWRlb0VsZW1lbnQiLCJzdHJlYW0iLCJ2aWRlb0RldmljZXMiLCJzZWxlY3RlZERldmljZUluZGV4IiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZW51bWVyYXRlRGV2aWNlcyIsInRoZW4iLCJkZXZpY2VzIiwiZm9yRWFjaCIsImRldmljZSIsImtpbmQiLCJwdXNoIiwiZGV2aWNlSWQiLCJDYW1lcmEiLCJzdGFydCIsInN0b3AiLCJsZW5ndGgiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJ3aWR0aCIsImhlaWdodCIsImRldmljZUlkSWQiLCJleGFjdCIsImxvY2FsTWVkaWFTdHJlYW0iLCJzcmMiLCJ3aW5kb3ciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJwbGF5IiwiZ2V0VmlkZW9UcmFja3MiLCJzaG9vdCIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiaW1hZ2UiLCJ0b0RhdGFVUkwiLCJjaGFuZ2VTb3VyY2UiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUEscUJBQUo7QUFBQSxJQUNJQyxlQURKO0FBQUEsSUFFSUMsZUFBZSxFQUZuQjtBQUFBLElBR0lDLHNCQUFzQixDQUgxQjs7QUFLQUMsVUFBVUMsWUFBVixDQUF1QkMsZ0JBQXZCLEdBQ0tDLElBREwsQ0FDVSxtQkFBVztBQUNiQyxZQUFRQyxPQUFSLENBQWdCLGtCQUFVO0FBQ3RCLFlBQUdDLE9BQU9DLElBQVAsS0FBZ0IsWUFBbkIsRUFBZ0M7QUFDNUJULHlCQUFhVSxJQUFiLENBQWtCRixPQUFPRyxRQUF6QjtBQUNIO0FBQ0osS0FKRDtBQUtILENBUEw7O0FBU08sSUFBTUMsMEJBQVM7QUFDbEJDLFNBRGtCLG1CQUNYO0FBQ0gsYUFBS0MsSUFBTDtBQUNBLFlBQUdkLGFBQWFlLE1BQWhCLEVBQXVCO0FBQ25CakIsMkJBQWVrQixTQUFTQyxjQUFULENBQXdCLFlBQXhCLENBQWY7QUFDQWYsc0JBQVVDLFlBQVYsQ0FBdUJlLFlBQXZCLENBQ0k7QUFDSUMsdUJBQU87QUFDSEMsMkJBQU8sR0FESjtBQUVIQyw0QkFBUSxHQUZMO0FBR0hDLGdDQUFZLEVBQUVDLE9BQU92QixhQUFhQyxtQkFBYixDQUFUO0FBSFQ7QUFEWCxhQURKLEVBU0tJLElBVEwsQ0FTVSxVQUFDbUIsZ0JBQUQsRUFBc0I7QUFDeEJ6Qix5QkFBU3lCLGdCQUFUO0FBQ0ExQiw2QkFBYTJCLEdBQWIsR0FBbUJDLE9BQU9DLEdBQVAsQ0FBV0MsZUFBWCxDQUEyQjdCLE1BQTNCLENBQW5CO0FBQ0FELDZCQUFhK0IsSUFBYjtBQUNILGFBYkw7QUFjSDtBQUNKLEtBcEJpQjtBQXFCbEJmLFFBckJrQixrQkFxQlo7QUFDRixZQUFHZixNQUFILEVBQVU7QUFDTkQsMkJBQWUsRUFBZjtBQUNBQyxtQkFBTytCLGNBQVAsR0FBd0IsQ0FBeEIsRUFBMkJoQixJQUEzQjtBQUNBZixxQkFBUyxJQUFUO0FBQ0g7QUFDSixLQTNCaUI7QUE0QmxCZ0MsU0E1QmtCLG1CQTRCWDtBQUNILFlBQUdoQyxNQUFILEVBQVU7QUFDTixnQkFBSWlDLFNBQVNoQixTQUFTaUIsYUFBVCxDQUF1QixRQUF2QixDQUFiO0FBQUEsZ0JBQ0lDLE1BQU1GLE9BQU9HLFVBQVAsQ0FBa0IsSUFBbEIsQ0FEVjs7QUFHQUgsbUJBQU9aLEtBQVAsR0FBZSxHQUFmO0FBQ0FZLG1CQUFPWCxNQUFQLEdBQWdCLEdBQWhCO0FBQ0FhLGdCQUFJRSxTQUFKLENBQWN0QyxZQUFkLEVBQTRCLENBQTVCLEVBQStCLENBQS9CLEVBQWtDLEdBQWxDLEVBQXVDLEdBQXZDO0FBQ0EsZ0JBQUl1QyxRQUFRTCxPQUFPTSxTQUFQLENBQWlCLFlBQWpCLENBQVo7QUFDQSxtQkFBT0QsS0FBUDtBQUNILGdCQUFPLEtBQVA7QUFDSixLQXZDaUI7QUF3Q2xCRSxnQkF4Q2tCLDBCQXdDSjtBQUNWLFlBQUd4QyxVQUFVQyxhQUFhZSxNQUFiLEdBQXNCLENBQW5DLEVBQXFDO0FBQ2pDZDtBQUNBLGdCQUFHQSx3QkFBd0JELGFBQWFlLE1BQXhDLEVBQStDO0FBQzNDZCxzQ0FBc0IsQ0FBdEI7QUFDSDtBQUNELGlCQUFLWSxLQUFMO0FBQ0g7QUFDSjtBQWhEaUIsQ0FBZiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHZpZGVvRWxlbWVudCxcclxuICAgIHN0cmVhbSxcclxuICAgIHZpZGVvRGV2aWNlcyA9IFtdLFxyXG4gICAgc2VsZWN0ZWREZXZpY2VJbmRleCA9IDA7XHJcblxyXG5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKVxyXG4gICAgLnRoZW4oZGV2aWNlcyA9PiB7XHJcbiAgICAgICAgZGV2aWNlcy5mb3JFYWNoKGRldmljZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGRldmljZS5raW5kID09PSAndmlkZW9pbnB1dCcpe1xyXG4gICAgICAgICAgICAgICAgdmlkZW9EZXZpY2VzLnB1c2goZGV2aWNlLmRldmljZUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IENhbWVyYSA9IHtcclxuICAgIHN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgaWYodmlkZW9EZXZpY2VzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW1lcmEtdGFnJyk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZElkOiB7IGV4YWN0OiB2aWRlb0RldmljZXNbc2VsZWN0ZWREZXZpY2VJbmRleF0gfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGxvY2FsTWVkaWFTdHJlYW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBsb2NhbE1lZGlhU3RyZWFtO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzdG9wKCl7XHJcbiAgICAgICAgaWYoc3RyZWFtKXtcclxuICAgICAgICAgICAgdmlkZW9FbGVtZW50ID0gJyc7XHJcbiAgICAgICAgICAgIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLnN0b3AoKTtcclxuICAgICAgICAgICAgc3RyZWFtID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvb3QoKXtcclxuICAgICAgICBpZihzdHJlYW0pe1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXHJcbiAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDIzMDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IDIwMDtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlb0VsZW1lbnQsIDAsIDAsIDIzMCwgMjAwKTtcclxuICAgICAgICAgICAgbGV0IGltYWdlID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgfXJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBjaGFuZ2VTb3VyY2UoKXtcclxuICAgICAgICBpZihzdHJlYW0gJiYgdmlkZW9EZXZpY2VzLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICBzZWxlY3RlZERldmljZUluZGV4Kys7XHJcbiAgICAgICAgICAgIGlmKHNlbGVjdGVkRGV2aWNlSW5kZXggPT09IHZpZGVvRGV2aWNlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Controller = undefined;\n\nvar _toDoTemplate = __webpack_require__(1);\n\nvar _toDoDB = __webpack_require__(0);\n\nvar _camera = __webpack_require__(5);\n\nvar Controller = exports.Controller = {\n    start: function start() {\n        var _this = this;\n\n        document.addEventListener('click', function (event) {\n            if (event.target.classList.contains('mdl-button__ripple-container') || event.target.classList.contains('material-icons')) {\n                var button = event.target.parentElement;\n                switch (button.dataset['action']) {\n                    case 'open':\n                        _this.Modal.item.open(button.dataset['item']);break;\n                    case 'close':\n                        _this.Modal.item.close();break;\n                    case 'check':\n                        _this.Modal.item.check(button.dataset['item']);break;\n                    case 'save':\n                        _this.Modal.item.save();break;\n                    case 'startCamera':\n                        _this.Modal.camera.open();break;\n                    case 'stopCamera':\n                        _this.Modal.camera.close();break;\n                    case 'shoot':\n                        _this.Modal.camera.shoot();break;\n                    case 'changeSource':\n                        _this.Modal.camera.changeSource();break;\n                }\n            } else if (event.target.classList.contains('mdl-navigation__link')) {\n                var button = event.target;\n                switch (button.dataset['action']) {\n                    case 'newItem':\n                        _this.Menu.newItem();break;\n                    case 'checkAll':\n                        _this.Menu.checkAll();break;\n                    case 'uncheckAll':\n                        _this.Menu.uncheckAll();break;\n                    case 'clearAll':\n                        _this.Menu.clearAll();break;\n                }\n            }\n        });\n    },\n\n    Modal: {\n        item: {\n            modal: document.querySelector('#item-dialog'),\n            selectedItemId: null,\n            open: function open(itemId) {\n                var dialog = this.modal;\n                dialog.querySelector('.close').addEventListener('click', this.close);\n                dialog.showModal();\n                this.setItem(itemId);\n                this.selectedItemId = itemId;\n            },\n            close: function close() {\n                var that = Controller.Modal.item;\n                var dialog = that.modal;\n                dialog.querySelector('.close').removeEventListener('click', that.close);\n                dialog.hasAttribute('open') && dialog.close();\n            },\n            setItem: function setItem(itemId) {\n                var form = this.getElements();\n                if (!itemId) {\n                    form.img.src = '';\n                    form.title.value = '';\n                    form.description.value = '';\n                } else {\n                    _toDoDB.DB.find(itemId).then(function (item) {\n                        form.img.src = item.image || '';\n                        form.title.value = item.title;\n                        form.description.value = item.description;\n                    });\n                }\n            },\n            check: function check(itemId) {\n                var _this2 = this;\n\n                this.selectedItemId = itemId;\n                _toDoDB.DB.find(itemId).then(function (item) {\n                    item.isChecked = !item.isChecked;\n                    _this2.save(item);\n                });\n            },\n            save: function save(item) {\n                var _this3 = this;\n\n                var itemValues = item || this.getItemValues();\n                (this.selectedItemId ? _toDoDB.DB.update(itemValues) : _toDoDB.DB.insert(itemValues)).then(function (itemsList) {\n                    _toDoTemplate.Template.toDoList(itemsList);\n                    _this3.close();\n                });\n            },\n            getElements: function getElements() {\n                var dialog = this.modal;\n                var img = dialog.querySelector('#item-dialog-picture'),\n                    title = dialog.querySelector('#title'),\n                    description = dialog.querySelector('#description');\n                return { img: img, title: title, description: description };\n            },\n            getItemValues: function getItemValues() {\n                var form = this.getElements();\n                return { title: form.title.value, description: form.description.value, image: form.img.getAttribute('src') };\n            }\n        },\n        camera: {\n            modal: document.querySelector('#camera-dialog'),\n            open: function open() {\n                var dialog = this.modal;\n                dialog.querySelector('.close').addEventListener('click', this.close);\n                dialog.showModal();\n                _camera.Camera.start();\n            },\n            close: function close() {\n                var that = Controller.Modal.camera;\n                var dialog = that.modal;\n                dialog.querySelector('.close').removeEventListener('click', that.close);\n                dialog.hasAttribute('open') && dialog.close();\n                _camera.Camera.stop();\n            },\n            shoot: function shoot() {\n                var image = _camera.Camera.shoot();\n                if (image) {\n                    Controller.Modal.item.getElements().img.src = image;\n                    this.close();\n                }\n            },\n            changeSource: function changeSource() {\n                _camera.Camera.changeSource();\n            }\n        }\n    },\n    Menu: {\n        newItem: function newItem() {\n            Controller.Modal.item.open();\n            this.closeMenu();\n        },\n        checkAll: function checkAll() {\n            _toDoDB.DB.checkAll(true).then(function (itemsList) {\n                _toDoTemplate.Template.toDoList(itemsList);\n            });\n        },\n        uncheckAll: function uncheckAll() {\n            _toDoDB.DB.checkAll(false).then(function (itemsList) {\n                _toDoTemplate.Template.toDoList(itemsList);\n            });\n        },\n        clearAll: function clearAll() {\n            _toDoDB.DB.clearAll().then(function (itemsList) {\n                _toDoTemplate.Template.toDoList(itemsList);\n            });\n            this.closeMenu();\n        },\n        closeMenu: function closeMenu() {\n            document.querySelector('.mdl-layout__obfuscator').click();\n        }\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvQ29udHJvbGxlci5qcz9hNjMzIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXIiLCJzdGFydCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJidXR0b24iLCJwYXJlbnRFbGVtZW50IiwiZGF0YXNldCIsIk1vZGFsIiwiaXRlbSIsIm9wZW4iLCJjbG9zZSIsImNoZWNrIiwic2F2ZSIsImNhbWVyYSIsInNob290IiwiY2hhbmdlU291cmNlIiwiTWVudSIsIm5ld0l0ZW0iLCJjaGVja0FsbCIsInVuY2hlY2tBbGwiLCJjbGVhckFsbCIsIm1vZGFsIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdGVkSXRlbUlkIiwiaXRlbUlkIiwiZGlhbG9nIiwic2hvd01vZGFsIiwic2V0SXRlbSIsInRoYXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFzQXR0cmlidXRlIiwiZm9ybSIsImdldEVsZW1lbnRzIiwiaW1nIiwic3JjIiwidGl0bGUiLCJ2YWx1ZSIsImRlc2NyaXB0aW9uIiwiREIiLCJmaW5kIiwidGhlbiIsImltYWdlIiwiaXNDaGVja2VkIiwiaXRlbVZhbHVlcyIsImdldEl0ZW1WYWx1ZXMiLCJ1cGRhdGUiLCJpbnNlcnQiLCJUZW1wbGF0ZSIsInRvRG9MaXN0IiwiaXRlbXNMaXN0IiwiZ2V0QXR0cmlidXRlIiwiQ2FtZXJhIiwic3RvcCIsImNsb3NlTWVudSIsImNsaWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBR08sSUFBTUEsa0NBQWE7QUFDdEJDLFNBRHNCLG1CQUNmO0FBQUE7O0FBQ0hDLGlCQUFTQyxnQkFBVCxDQUEwQixPQUExQixFQUFtQyxVQUFDQyxLQUFELEVBQVU7QUFDekMsZ0JBQUdBLE1BQU1DLE1BQU4sQ0FBYUMsU0FBYixDQUF1QkMsUUFBdkIsQ0FBZ0MsOEJBQWhDLEtBQW1FSCxNQUFNQyxNQUFO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ZUFBT3JDLEtBQVAsRUFBWjtBQUNBLG9CQUFHMkIsS0FBSCxFQUFTO0FBQ0w3QywrQkFBV1csS0FBWCxDQUFpQkMsSUFBakIsQ0FBc0J3QixXQUF0QixHQUFvQ0MsR0FBcEMsQ0FBd0NDLEdBQXhDLEdBQThDTyxLQUE5QztBQUNBLHlCQUFLL0IsS0FBTDtBQUNIO0FBQ0osYUFyQkc7QUFzQkpLLHdCQXRCSSwwQkFzQlU7QUFDVm9DLCtCQUFPcEMsWUFBUDtBQUNIO0FBeEJHO0FBMURMLEtBMUJlO0FBK0d0QkMsVUFBTTtBQUNGQyxlQURFLHFCQUNPO0FBQ0xyQix1QkFBV1csS0FBWCxDQUFpQkMsSUFBakIsQ0FBc0JDLElBQXRCO0FBQ0EsaUJBQUs0QyxTQUFMO0FBQ0gsU0FKQztBQUtGbkMsZ0JBTEUsc0JBS1E7QUFDTm9CLHVCQUFHcEIsUUFBSCxDQUFZLElBQVosRUFBa0JzQixJQUFsQixDQUF1QixxQkFBYTtBQUNoQ08sdUNBQVNDLFFBQVQsQ0FBa0JDLFNBQWxCO0FBQ0gsYUFGRDtBQUdILFNBVEM7QUFVRjlCLGtCQVZFLHdCQVVVO0FBQ1JtQix1QkFBR3BCLFFBQUgsQ0FBWSxLQUFaLEVBQW1Cc0IsSUFBbkIsQ0FBd0IscUJBQWE7QUFDakNPLHVDQUFTQyxRQUFULENBQWtCQyxTQUFsQjtBQUNILGFBRkQ7QUFHSCxTQWRDO0FBZUY3QixnQkFmRSxzQkFlUTtBQUNOa0IsdUJBQUdsQixRQUFILEdBQWNvQixJQUFkLENBQW1CLHFCQUFhO0FBQzVCTyx1Q0FBU0MsUUFBVCxDQUFrQkMsU0FBbEI7QUFDSCxhQUZEO0FBR0EsaUJBQUtJLFNBQUw7QUFDSCxTQXBCQztBQXFCRkEsaUJBckJFLHVCQXFCUztBQUNQdkQscUJBQVN3QixhQUFULENBQXVCLHlCQUF2QixFQUFrRGdDLEtBQWxEO0FBQ0g7QUF2QkM7QUEvR2dCLENBQW5CIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gJy4vdG9Eb1RlbXBsYXRlJztcclxuaW1wb3J0IHsgREIgfSBmcm9tICcuL3RvRG9EQic7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vY2FtZXJhJztcclxuXHJcblxyXG5leHBvcnQgY29uc3QgQ29udHJvbGxlciA9IHtcclxuICAgIHN0YXJ0KCl7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpPT4ge1xyXG4gICAgICAgICAgICBpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZGwtYnV0dG9uX19yaXBwbGUtY29udGFpbmVyJykgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWF0ZXJpYWwtaWNvbnMnKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYnV0dG9uLmRhdGFzZXRbJ2FjdGlvbiddKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdvcGVuJzogdGhpcy5Nb2RhbC5pdGVtLm9wZW4oYnV0dG9uLmRhdGFzZXRbJ2l0ZW0nXSk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzogdGhpcy5Nb2RhbC5pdGVtLmNsb3NlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrJzogdGhpcy5Nb2RhbC5pdGVtLmNoZWNrKGJ1dHRvbi5kYXRhc2V0WydpdGVtJ10pOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzYXZlJzogdGhpcy5Nb2RhbC5pdGVtLnNhdmUoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RhcnRDYW1lcmEnOiB0aGlzLk1vZGFsLmNhbWVyYS5vcGVuKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0b3BDYW1lcmEnOiB0aGlzLk1vZGFsLmNhbWVyYS5jbG9zZSgpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzaG9vdCc6IHRoaXMuTW9kYWwuY2FtZXJhLnNob290KCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoYW5nZVNvdXJjZSc6IHRoaXMuTW9kYWwuY2FtZXJhLmNoYW5nZVNvdXJjZSgpOyBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWRsLW5hdmlnYXRpb25fX2xpbmsnKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGJ1dHRvbi5kYXRhc2V0WydhY3Rpb24nXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmV3SXRlbSc6IHRoaXMuTWVudS5uZXdJdGVtKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrQWxsJzogdGhpcy5NZW51LmNoZWNrQWxsKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VuY2hlY2tBbGwnOiB0aGlzLk1lbnUudW5jaGVja0FsbCgpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdjbGVhckFsbCc6IHRoaXMuTWVudS5jbGVhckFsbCgpOyBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgTW9kYWw6IHtcclxuICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgIG1vZGFsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaXRlbS1kaWFsb2cnKSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSWQ6IG51bGwsXHJcbiAgICAgICAgICAgIG9wZW4oaXRlbUlkKXtcclxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzLm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEl0ZW0oaXRlbUlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtSWQgPSBpdGVtSWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsb3NlKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IENvbnRyb2xsZXIuTW9kYWwuaXRlbTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGF0Lm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhhdC5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cuaGFzQXR0cmlidXRlKCdvcGVuJykgJiYgZGlhbG9nLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEl0ZW0oaXRlbUlkKXtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gdGhpcy5nZXRFbGVtZW50cygpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWl0ZW1JZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5pbWcuc3JjID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS50aXRsZS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0uZGVzY3JpcHRpb24udmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIERCLmZpbmQoaXRlbUlkKS50aGVuKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmltZy5zcmMgPSBpdGVtLmltYWdlIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5kZXNjcmlwdGlvbi52YWx1ZSA9IGl0ZW0uZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hlY2soaXRlbUlkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtSWQgPSBpdGVtSWQ7XHJcbiAgICAgICAgICAgICAgICBEQi5maW5kKGl0ZW1JZCkudGhlbihpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmlzQ2hlY2tlZCA9ICFpdGVtLmlzQ2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmUoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzYXZlKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1WYWx1ZXMgPSBpdGVtIHx8IHRoaXMuZ2V0SXRlbVZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuc2VsZWN0ZWRJdGVtSWQgPyBEQi51cGRhdGUoaXRlbVZhbHVlcykgOiBEQi5pbnNlcnQoaXRlbVZhbHVlcykpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oaXRlbXNMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGVtcGxhdGUudG9Eb0xpc3QoaXRlbXNMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEVsZW1lbnRzKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0gdGhpcy5tb2RhbDtcclxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkaWFsb2cucXVlcnlTZWxlY3RvcignI2l0ZW0tZGlhbG9nLXBpY3R1cmUnKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjdGl0bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7aW1nLCB0aXRsZSwgZGVzY3JpcHRpb259O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRJdGVtVmFsdWVzKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IHRoaXMuZ2V0RWxlbWVudHMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7dGl0bGU6IGZvcm0udGl0bGUudmFsdWUsIGRlc2NyaXB0aW9uOiBmb3JtLmRlc2NyaXB0aW9uLnZhbHVlLCBpbWFnZTogZm9ybS5pbWcuZ2V0QXR0cmlidXRlKCdzcmMnKX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhbWVyYToge1xyXG4gICAgICAgICAgICBtb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbWVyYS1kaWFsb2cnKSxcclxuICAgICAgICAgICAgb3Blbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMubW9kYWw7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIENhbWVyYS5zdGFydCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjbG9zZSgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSBDb250cm9sbGVyLk1vZGFsLmNhbWVyYTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGF0Lm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhhdC5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cuaGFzQXR0cmlidXRlKCdvcGVuJykgJiYgZGlhbG9nLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBDYW1lcmEuc3RvcCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG9vdCgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gQ2FtZXJhLnNob290KCk7XHJcbiAgICAgICAgICAgICAgICBpZihpbWFnZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29udHJvbGxlci5Nb2RhbC5pdGVtLmdldEVsZW1lbnRzKCkuaW1nLnNyYyA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hhbmdlU291cmNlKCl7XHJcbiAgICAgICAgICAgICAgICBDYW1lcmEuY2hhbmdlU291cmNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgTWVudToge1xyXG4gICAgICAgIG5ld0l0ZW0oKXtcclxuICAgICAgICAgICAgQ29udHJvbGxlci5Nb2RhbC5pdGVtLm9wZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrQWxsKCl7XHJcbiAgICAgICAgICAgIERCLmNoZWNrQWxsKHRydWUpLnRoZW4oaXRlbXNMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bmNoZWNrQWxsKCl7XHJcbiAgICAgICAgICAgIERCLmNoZWNrQWxsKGZhbHNlKS50aGVuKGl0ZW1zTGlzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBUZW1wbGF0ZS50b0RvTGlzdChpdGVtc0xpc3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xlYXJBbGwoKXtcclxuICAgICAgICAgICAgREIuY2xlYXJBbGwoKS50aGVuKGl0ZW1zTGlzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBUZW1wbGF0ZS50b0RvTGlzdChpdGVtc0xpc3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTWVudSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xvc2VNZW51KCl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZGwtbGF5b3V0X19vYmZ1c2NhdG9yJykuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _toDoDB = __webpack_require__(0);\n\nvar _toDoTemplate = __webpack_require__(1);\n\nvar _toDoController = __webpack_require__(6);\n\nvar _toDoNotification = __webpack_require__(4);\n\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('./service_worker.js').then(function (registration) {\n        console.log('Service Worker registered with scope: ', registration.scope);\n        _toDoNotification.ToDoNotification.subscribeUserToNotification();\n    }).catch(function (err) {\n        console.log('Service Worker registration failed: ', err);\n    });\n}\n\n_toDoDB.DB.start().then(function (db) {\n    db.findAll().then(function (itemsList) {\n        return _toDoTemplate.Template.toDoList(itemsList);\n    });\n});\n\n_toDoController.Controller.start();\n\nnavigator.serviceWorker.addEventListener('message', function (event) {\n    if (event.data === 'updateScreens') {\n        _toDoDB.DB.findAll().then(function (itemsList) {\n            return _toDoTemplate.Template.toDoList(itemsList);\n        });\n    }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hcHAuanM/NzQ3MyJdLCJuYW1lcyI6WyJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIiwicmVnaXN0cmF0aW9uIiwiY29uc29sZSIsImxvZyIsInNjb3BlIiwiVG9Eb05vdGlmaWNhdGlvbiIsInN1YnNjcmliZVVzZXJUb05vdGlmaWNhdGlvbiIsImNhdGNoIiwiZXJyIiwiREIiLCJzdGFydCIsImRiIiwiZmluZEFsbCIsIlRlbXBsYXRlIiwidG9Eb0xpc3QiLCJpdGVtc0xpc3QiLCJDb250cm9sbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZGF0YSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFHLG1CQUFtQkEsU0FBdEIsRUFBZ0M7QUFDNUJBLGNBQVVDLGFBQVYsQ0FBd0JDLFFBQXhCLENBQWlDLHFCQUFqQyxFQUNLQyxJQURMLENBQ1UsVUFBQ0MsWUFBRCxFQUFrQjtBQUNwQkMsZ0JBQVFDLEdBQVIsQ0FBWSx3Q0FBWixFQUFzREYsYUFBYUcsS0FBbkU7QUFDQUMsMkNBQWlCQywyQkFBakI7QUFDSCxLQUpMLEVBS0tDLEtBTEwsQ0FLVyxVQUFDQyxHQUFELEVBQVM7QUFDWk4sZ0JBQVFDLEdBQVIsQ0FBWSxzQ0FBWixFQUFvREssR0FBcEQ7QUFDSCxLQVBMO0FBUUg7O0FBSURDLFdBQUdDLEtBQUgsR0FBV1YsSUFBWCxDQUFnQixjQUFNO0FBQ2xCVyxPQUFHQyxPQUFILEdBQWFaLElBQWIsQ0FBbUI7QUFBQSxlQUFhYSx1QkFBU0MsUUFBVCxDQUFrQkMsU0FBbEIsQ0FBYjtBQUFBLEtBQW5CO0FBQ0gsQ0FGRDs7QUFJQUMsMkJBQVdOLEtBQVg7O0FBR0FiLFVBQVVDLGFBQVYsQ0FBd0JtQixnQkFBeEIsQ0FBeUMsU0FBekMsRUFBb0QsVUFBU0MsS0FBVCxFQUFlO0FBQy9ELFFBQUdBLE1BQU1DLElBQU4sS0FBZSxlQUFsQixFQUFrQztBQUM5QlYsbUJBQUdHLE9BQUgsR0FBYVosSUFBYixDQUFtQjtBQUFBLG1CQUFhYSx1QkFBU0MsUUFBVCxDQUFrQkMsU0FBbEIsQ0FBYjtBQUFBLFNBQW5CO0FBQ0g7QUFDSixDQUpEIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEQiB9IGZyb20gJy4vdG9Eb0RCJztcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICcuL3RvRG9UZW1wbGF0ZSc7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICcuL3RvRG9Db250cm9sbGVyJztcclxuaW1wb3J0IHsgVG9Eb05vdGlmaWNhdGlvbiB9IGZyb20gJy4vdG9Eb05vdGlmaWNhdGlvbic7XHJcblxyXG5pZignc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKXtcclxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuL3NlcnZpY2Vfd29ya2VyLmpzJylcclxuICAgICAgICAudGhlbigocmVnaXN0cmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIFdvcmtlciByZWdpc3RlcmVkIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICAgICAgICAgIFRvRG9Ob3RpZmljYXRpb24uc3Vic2NyaWJlVXNlclRvTm90aWZpY2F0aW9uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZSBXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5cclxuXHJcbkRCLnN0YXJ0KCkudGhlbihkYiA9PiB7XHJcbiAgICBkYi5maW5kQWxsKCkudGhlbiggaXRlbXNMaXN0ID0+IFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCkgKTtcclxufSlcclxuXHJcbkNvbnRyb2xsZXIuc3RhcnQoKTtcclxuXHJcblxyXG5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQuZGF0YSA9PT0gJ3VwZGF0ZVNjcmVlbnMnKXtcclxuICAgICAgICBEQi5maW5kQWxsKCkudGhlbiggaXRlbXNMaXN0ID0+IFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCkgKTtcclxuICAgIH1cclxufSkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n")},function(I,C,Q){I.exports=Q(7)}]);