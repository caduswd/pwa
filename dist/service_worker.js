(function(Q){var I={};function C(F){if(I[F]){return I[F].exports}var B=I[F]={i:F,l:false,exports:{}};Q[F].call(B.exports,B,B.exports,C);B.l=true;return B.exports}C.m=Q;C.c=I;C.d=function(Q,I,F){if(!C.o(Q,I)){Object.defineProperty(Q,I,{configurable:false,enumerable:true,get:F})}};C.r=function(Q){Object.defineProperty(Q,"__esModule",{value:true})};C.n=function(Q){var I=Q&&Q.__esModule?function I(){return Q["default"]}:function I(){return Q};C.d(I,"a",I);return I};C.o=function(Q,I){return Object.prototype.hasOwnProperty.call(Q,I)};C.p="";return C(C.s=3)})([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar SERVER_URL = 'http://localhost:3005/';\n\nvar request = void 0,\n    db = void 0;\n\nfunction getObjectStore() {\n    return db.transaction(['ToDoItems'], 'readwrite').objectStore('ToDoItems');\n}\n\nfunction getAll() {\n    return fetch(SERVER_URL).then(function (response) {\n        return response.json();\n    });\n}\n\nfunction postAll(obj) {\n    return fetch(SERVER_URL, {\n        'method': 'POST',\n        'Content-Type': 'application/json',\n        'body': JSON.stringify(obj)\n    }).then(function (response) {\n        return response.json();\n    }).then(function (items) {\n        navigator.serviceWorker.controller.postMessage('updateScreens');\n        return items;\n    });\n}\n\nvar DB = exports.DB = {\n    getAll: getAll, postAll: postAll,\n    start: function start() {\n        var _this = this;\n\n        return new Promise(function (resolve) {\n            request = indexedDB.open('toDo', 1);\n            request.onsuccess = function (event) {\n                db = request.result;\n                resolve(_this);\n            };\n\n            request.onupgradeneeded = function (event) {\n                db = event.target.result;\n                db.createObjectStore('ToDoItems', { keyPath: 'id' });\n            };\n        });\n    },\n\n    get request() {\n        return request;\n    },\n    get db() {\n        return db;\n    },\n    selectedItem: {},\n    find: function find(id) {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().get(+id);\n            request.onsuccess = function (event) {\n                _this2.selectedItem = request.result;\n                resolve(request.result);\n            };\n        });\n    },\n    findAll: function findAll() {\n        var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'server';\n\n        return new Promise(function (resolve) {\n\n            var request = getObjectStore().getAll();\n            request.onsuccess = function (event) {\n                resolve(request.result);\n            };\n        });\n    },\n    insert: function insert(item) {\n        var _this3 = this;\n\n        return new Promise(function (resolve) {\n            item.id = new Date().getTime();\n            item.isChecked = false;\n\n            var request = getObjectStore().add(item);\n            request.onsuccess = function (event) {\n                resolve(_this3.findAll());\n            };\n        });\n    },\n    update: function update(item) {\n        var _this4 = this;\n\n        return new Promise(function (resolve) {\n            var updatedItem = Object.assign(_this4.selectedItem, item);\n            var request = getObjectStore().put(updatedItem);\n            request.onsuccess = function (event) {\n                resolve(_this4.findAll());\n            };\n        });\n    },\n    remove: function remove(id) {\n        var _this5 = this;\n\n        return new Promise(function (resolve) {\n            var request = getObjectStore().delete(id);\n            request.onsuccess = function (event) {\n                resolve(_this5.findAll());\n            };\n        });\n    },\n    checkAll: function checkAll() {\n        var _this6 = this;\n\n        var isChecked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var isAllUpdated = false,\n            isUpdated = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isUpdated = false;\n                    var newData = cursor.value;\n                    newData.isChecked = isChecked;\n                    var request = cursor.update(newData);\n                    request.onsuccess = function () {\n                        isUpdated = true;\n                        if (isAllUpdated && isUpdated) {\n                            resolve(_this6.findAll());\n                        }\n                    };\n                    cursor.continue();\n                } else {\n                    isAllUpdated = true;\n                    if (isAllUpdated && isUpdated) {\n                        resolve(_this6.findAll());\n                    }\n                }\n            };\n        });\n    },\n    clearAll: function clearAll() {\n        var _this7 = this;\n\n        var isAllRemoved = false,\n            isRemoved = false;\n        return new Promise(function (resolve) {\n            getObjectStore().openCursor().onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    isRemoved = false;\n                    if (cursor.value.isChecked) {\n                        var request = cursor.delete();\n                        request.onsuccess = function () {\n                            isRemoved = true;\n                            if (isAllRemoved && isRemoved) {\n                                resolve(_this7.findAll());\n                            }\n                        };\n                    } else {\n                        isRemoved = true;\n                    }\n                    cursor.continue();\n                } else {\n                    isAllRemoved = true;\n                    if (isAllRemoved && isRemoved) {\n                        resolve(_this7.findAll());\n                    }\n                }\n            };\n        });\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvREIuanM/ZjVlYyJdLCJuYW1lcyI6WyJTRVJWRVJfVVJMIiwicmVxdWVzdCIsImRiIiwiZ2V0T2JqZWN0U3RvcmUiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0QWxsIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwicG9zdEFsbCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwiY29udHJvbGxlciIsInBvc3RNZXNzYWdlIiwiaXRlbXMiLCJEQiIsInN0YXJ0IiwiUHJvbWlzZSIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJldmVudCIsInJlc3VsdCIsInJlc29sdmUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJ0YXJnZXQiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzZWxlY3RlZEl0ZW0iLCJmaW5kIiwiaWQiLCJnZXQiLCJmaW5kQWxsIiwibG9jYXRpb24iLCJpbnNlcnQiLCJpdGVtIiwiRGF0ZSIsImdldFRpbWUiLCJpc0NoZWNrZWQiLCJhZGQiLCJ1cGRhdGUiLCJ1cGRhdGVkSXRlbSIsIk9iamVjdCIsImFzc2lnbiIsInB1dCIsInJlbW92ZSIsImRlbGV0ZSIsImNoZWNrQWxsIiwiaXNBbGxVcGRhdGVkIiwiaXNVcGRhdGVkIiwib3BlbkN1cnNvciIsImN1cnNvciIsIm5ld0RhdGEiLCJ2YWx1ZSIsImNvbnRpbnVlIiwiY2xlYXJBbGwiLCJpc0FsbFJlbW92ZWQiLCJpc1JlbW92ZWQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsYUFBYSx3QkFBbkI7O0FBRUEsSUFBSUMsZ0JBQUo7QUFBQSxJQUNJQyxXQURKOztBQUdBLFNBQVNDLGNBQVQsR0FBeUI7QUFDckIsV0FBT0QsR0FBR0UsV0FBSCxDQUFlLENBQUMsV0FBRCxDQUFmLEVBQThCLFdBQTlCLEVBQTJDQyxXQUEzQyxDQUF1RCxXQUF2RCxDQUFQO0FB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LE9BQUwsRUFBUjtBQUNIO0FBQ0o7QUFDSixhQXRCRDtBQXVCSCxTQXhCTSxDQUFQO0FBeUJIO0FBdEhhLENBQVgiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNFUlZFUl9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDA1Lyc7XHJcblxyXG5sZXQgcmVxdWVzdCxcclxuICAgIGRiO1xyXG5cclxuZnVuY3Rpb24gZ2V0T2JqZWN0U3RvcmUoKXtcclxuICAgIHJldHVybiBkYi50cmFuc2FjdGlvbihbJ1RvRG9JdGVtcyddLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoJ1RvRG9JdGVtcycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGwoKXtcclxuICAgIHJldHVybiBmZXRjaChTRVJWRVJfVVJMKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvc3RBbGwob2JqKXtcclxuICAgIHJldHVybiBmZXRjaChTRVJWRVJfVVJMLCB7XHJcbiAgICAgICAgJ21ldGhvZCc6ICdQT1NUJyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICdib2R5JzogSlNPTi5zdHJpbmdpZnkob2JqKVxyXG4gICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKCd1cGRhdGVTY3JlZW5zJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREIgPSB7XHJcbiAgICBnZXRBbGwsIHBvc3RBbGwsXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKCd0b0RvJywgMSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYiA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdUb0RvSXRlbXMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGdldCByZXF1ZXN0KCl7IHJldHVybiByZXF1ZXN0OyB9LFxyXG4gICAgZ2V0IGRiKCl7IHJldHVybiBkYjsgfSxcclxuICAgIHNlbGVjdGVkSXRlbToge30sXHJcbiAgICBmaW5kKGlkKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoKS5nZXQoK2lkKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZmluZEFsbChsb2NhdGlvbiA9ICdzZXJ2ZXInKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0QWxsKCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGluc2VydChpdGVtKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uaWQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICBpdGVtLmlzQ2hlY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZSgpLmFkZChpdGVtKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5maW5kQWxsKCkpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICB1cGRhdGUoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0ZWRJdGVtLCBpdGVtKTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZSgpLnB1dCh1cGRhdGVkSXRlbSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7IHJlc29sdmUodGhpcy5maW5kQWxsKCkpIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHJlbW92ZShpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHsgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSkgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgY2hlY2tBbGwoaXNDaGVja2VkID0gZmFsc2Upe1xyXG4gICAgICAgIHZhciBpc0FsbFVwZGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgaXNVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBnZXRPYmplY3RTdG9yZSgpLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYoY3Vyc29yKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IGN1cnNvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLmlzQ2hlY2tlZCA9IGlzQ2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci51cGRhdGUobmV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGNsZWFyQWxsKCl7XHJcbiAgICAgICAgdmFyIGlzQWxsUmVtb3ZlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1JlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGdldE9iamVjdFN0b3JlKCkub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZihjdXJzb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnNvci52YWx1ZS5pc0NoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci5kZWxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxSZW1vdmVkICYmIGlzUmVtb3ZlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsUmVtb3ZlZCAmJiBpc1JlbW92ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},,function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _toDoDB = __webpack_require__(0);\n\n_toDoDB.DB.start();\n\nvar CACHE_NAME = 'v1.0.0';\nvar FILES = ['./', './index.html', './css/styles.css', './app.bundle.js'];\n\nself.addEventListener('install', function (event) {\n    event.waitUntil(caches.open(CACHE_NAME).then(function (cache) {\n        return cache.addAll(FILES);\n    }));\n});\n\nself.addEventListener('activate', function (event) {\n    event.waitUntil(caches.keys().then(function (keys) {\n        return Promise.all(keys.filter(function (key) {\n            return key.indexOf(CACHE_NAME) !== 0;\n        }).map(function (key) {\n            return caches.delete(key);\n        }));\n    }));\n});\n\nself.addEventListener('fetch', function (event) {\n    event.respondWith(caches.match(event.request).then(function (response) {\n        return response || fetch(event.request);\n    }));\n});\n\nfunction sendItems() {\n    return _toDoDB.DB.findAll('local').then(function (items) {\n        return _toDoDB.DB.postAll(items);\n    });\n}\n\nfunction updateScreens() {\n    self.clients.matchAll().then(function (clients) {\n        clients.forEach(function (client) {\n            client.postMessage('updateScreens');\n        });\n    });\n}\n\nself.addEventListener('sync', function (event) {\n    if (event.tag === 'newItem' || event.tag === 'test-tag-from-devtools') {\n        event.waitUntil(sendItems());\n    }\n});\n\nself.addEventListener('message', function (event) {\n    if (event.data === 'updateScreens') {\n        updateScreens();\n    }\n});\n\nself.addEventListener('push', function (event) {\n    var message = event.data.text();\n    self.registration.showNotification('Push message received', {\n        body: message,\n        icon: './images/tw_icon.png',\n        actions: [{ action: 'confirm1', title: 'Abrir PWA' }, { action: 'confirm2', title: 'Abrir TreinaWeb' }]\n    });\n});\n\nself.addEventListener('notificationclick', function (event) {\n    event.notification.close();\n    var url = event.action === 'confirm1' ? 'http://localhost:3000' : 'https://treinaweb.com.br';\n\n    event.waitUntil(self.clients.matchAll().then(function (activeClients) {\n        if (activeClients.length > 0) {\n            activeClients[0].navigate(url);\n        } else {\n            self.clients.openWindow(url);\n        }\n    }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdi5qcz9lYTI5Il0sIm5hbWVzIjpbIkRCIiwic3RhcnQiLCJDQUNIRV9OQU1FIiwiRklMRVMiLCJzZWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwid2FpdFVudGlsIiwiY2FjaGVzIiwib3BlbiIsInRoZW4iLCJjYWNoZSIsImFkZEFsbCIsImtleXMiLCJQcm9taXNlIiwiYWxsIiwiZmlsdGVyIiwia2V5IiwiaW5kZXhPZiIsIm1hcCIsImRlbGV0ZSIsInJlc3BvbmRXaXRoIiwibWF0Y2giLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmZXRjaCIsInNlbmRJdGVtcyIsImZpbmRBbGwiLCJwb3N0QWxsIiwiaXRlbXMiLCJ1cGRhdGVTY3JlZW5zIiwiY2xpZW50cyIsIm1hdGNoQWxsIiwiZm9yRWFjaCIsImNsaWVudCIsInBvc3RNZXNzYWdlIiwidGFnIiwiZGF0YSIsIm1lc3NhZ2UiLCJ0ZXh0IiwicmVnaXN0cmF0aW9uIiwic2hvd05vdGlmaWNhdGlvbiIsImJvZHkiLCJpY29uIiwiYWN0aW9ucyIsImFjdGlvbiIsInRpdGxlIiwibm90aWZpY2F0aW9uIiwiY2xvc2UiLCJ1cmwiLCJhY3RpdmVDbGllbnRzIiwibGVuZ3RoIiwibmF2aWdhdGUiLCJvcGVuV2luZG93Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBQSxXQUFHQyxLQUFIOztBQUVBLElBQU1DLGFBQWEsUUFBbkI7QUFDQSxJQUFNQyxRQUFRLENBQ1YsSUFEVSxFQUVWLGNBRlUsRUFHVixrQkFIVSxFQUlWLGlCQUpVLENBQWQ7O0FBVUFDLEtBQUtDLGdCQUFMLENBQXNCLFNBQXRCLEVBQWlDLFVBQVNDLEtBQVQsRUFBZTtBQUM1Q0EsVUFBTUMsU0FBTixDQUNJQyxPQUFPQyxJQUFQLENBQVlQLFVBQVosRUFBd0JRLElBQXhCLENBQTZCLFVBQVNDLEtBQVQsRUFBZTtBQUN4QyxlQUFPQSxNQUFNQyxNQUFOLENBQWFULEtBQWIsQ0FBUDtBQUNILEtBRkQsQ0FESjtB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LDBCQUFjLENBQWQsRUFBaUJFLFFBQWpCLENBQTBCSCxHQUExQjtBQUNILFNBRkQsTUFFSztBQUNEN0MsaUJBQUsyQixPQUFMLENBQWFzQixVQUFiLENBQXdCSixHQUF4QjtBQUNIO0FBQ0osS0FORCxDQURKO0FBU0gsQ0FiRCIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREIgfSBmcm9tICcuL2pzL3RvRG9EQic7XHJcblxyXG5EQi5zdGFydCgpO1xyXG5cclxuY29uc3QgQ0FDSEVfTkFNRSA9ICd2MS4wLjAnO1xyXG5jb25zdCBGSUxFUyA9IFtcclxuICAgICcuLycsXHJcbiAgICAnLi9pbmRleC5odG1sJyxcclxuICAgICcuL2Nzcy9zdHlsZXMuY3NzJyxcclxuICAgICcuL2FwcC5idW5kbGUuanMnXHJcbl1cclxuXHJcblxyXG5cclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LndhaXRVbnRpbChcclxuICAgICAgICBjYWNoZXMub3BlbihDQUNIRV9OQU1FKS50aGVuKGZ1bmN0aW9uKGNhY2hlKXtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLmFkZEFsbChGSUxFUyk7XHJcbiAgICAgICAgfSlcclxuICAgIClcclxufSlcclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LndhaXRVbnRpbChcclxuICAgICAgICBjYWNoZXMua2V5cygpLnRoZW4oZnVuY3Rpb24gKGtleXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGtleXNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuaW5kZXhPZihDQUNIRV9OQU1FKSAhPT0gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxufSk7XHJcblxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgZXZlbnQucmVzcG9uZFdpdGgoXHJcbiAgICAgICAgY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgZmV0Y2goZXZlbnQucmVxdWVzdCk7XHJcbiAgICAgICAgfSlcclxuICAgIClcclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBzZW5kSXRlbXMoKXtcclxuICAgIHJldHVybiBEQi5maW5kQWxsKCdsb2NhbCcpXHJcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4gREIucG9zdEFsbChpdGVtcykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTY3JlZW5zKCl7XHJcbiAgICBzZWxmLmNsaWVudHMubWF0Y2hBbGwoKS50aGVuKGZ1bmN0aW9uKGNsaWVudHMpe1xyXG4gICAgICAgIGNsaWVudHMuZm9yRWFjaChmdW5jdGlvbihjbGllbnQpe1xyXG4gICAgICAgICAgICBjbGllbnQucG9zdE1lc3NhZ2UoJ3VwZGF0ZVNjcmVlbnMnKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdzeW5jJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQudGFnID09PSAnbmV3SXRlbScgfHwgZXZlbnQudGFnID09PSAndGVzdC10YWctZnJvbS1kZXZ0b29scycgKXtcclxuICAgICAgICBldmVudC53YWl0VW50aWwoc2VuZEl0ZW1zKCkpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQuZGF0YSA9PT0gJ3VwZGF0ZVNjcmVlbnMnKXtcclxuICAgICAgICB1cGRhdGVTY3JlZW5zKCk7XHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdwdXNoJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgdmFyIG1lc3NhZ2UgPSBldmVudC5kYXRhLnRleHQoKTtcclxuICAgIHNlbGYucmVnaXN0cmF0aW9uLnNob3dOb3RpZmljYXRpb24oJ1B1c2ggbWVzc2FnZSByZWNlaXZlZCcsIHtcclxuICAgICAgICBib2R5OiBtZXNzYWdlLFxyXG4gICAgICAgIGljb246ICcuL2ltYWdlcy90d19pY29uLnBuZycsXHJcbiAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICB7YWN0aW9uOiAnY29uZmlybTEnLCB0aXRsZTogJ0FicmlyIFBXQSd9LFxyXG4gICAgICAgICAgICB7YWN0aW9uOiAnY29uZmlybTInLCB0aXRsZTogJ0FicmlyIFRyZWluYVdlYid9XHJcbiAgICAgICAgXVxyXG4gICAgfSlcclxufSlcclxuXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBldmVudC5ub3RpZmljYXRpb24uY2xvc2UoKTtcclxuICAgIHZhciB1cmwgPSBldmVudC5hY3Rpb24gPT09ICdjb25maXJtMScgPyAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyA6ICdodHRwczovL3RyZWluYXdlYi5jb20uYnInO1xyXG5cclxuICAgIGV2ZW50LndhaXRVbnRpbChcclxuICAgICAgICBzZWxmLmNsaWVudHMubWF0Y2hBbGwoKS50aGVuKGZ1bmN0aW9uKGFjdGl2ZUNsaWVudHMpe1xyXG4gICAgICAgICAgICBpZihhY3RpdmVDbGllbnRzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2xpZW50c1swXS5uYXZpZ2F0ZSh1cmwpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2xpZW50cy5vcGVuV2luZG93KHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59KSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(Q,I,C){Q.exports=C(2)}]);